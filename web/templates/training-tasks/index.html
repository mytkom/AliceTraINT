{{ define "training-tasks_index" }}
{{ template "header" . }}

<div class="max-h-screen flex flex-col gap-4 my-4">
    {{ if .TrainingTasks }}
    <div class="flex justify-between justify-self-stretch items-center">
        <h1 class="text-lg md:text-xl">Training Tasks</h1>
        <a class="bg-sky-900 hover:bg-sky-800 text-gray-50 rounded-lg text-lg font-bold py-2 px-4"
            href="/training-tasks/new">Create Training Task</a>
    </div>
    <div class="max-h-full overflow-x-auto bg-sky-800 shadow-lg rounded-lg text-sm md:text-md xl:text-lg">
        <table class="relative w-full text-left border-collapse">
            <thead class="sticky top-0">
                <tr class="bg-sky-900 text-white uppercase leading-normal">
                    <th class="py-3 px-2 text-left">Name</th>
                    <th class="py-3 px-2 text-left">Training dataset</th>
                    <th class="py-3 px-2 text-left">Created by</th>
                    <th class="py-3 px-2 text-left">Created at</th>
                    <th class="py-3 px-2 text-left">Last update</th>
                    <th class="py-3 px-2 text-left">Status</th>
                </tr>
            </thead>
            <tbody class="text-gray-100 font-normal">
                {{ range .TrainingTasks }}
                <tr class="border-b border-sky-700 hover:bg-sky-700">
                    <td class="py-3 px-4 font-bold"><a href="/training-tasks/{{ .ID }}">{{ .Name }}</a></td>
                    <td class="py-3 px-4"><a href="/training-datasets/{{ .ID }}">{{ .TrainingDataset.Name }}</a></td>
                    <td class="py-3 px-4">{{ .User.FirstName }} {{ .User.FamilyName}}</td>
                    <td class="py-3 px-4">{{ .CreatedAt.Format "02 Jan 06 15:04 MST" }}</td>
                    <td class="py-3 px-4">{{ .UpdatedAt.Format "02 Jan 06 15:04 MST" }}</td>
                    <td class="py-3 px-4 flex gap-2 items-center">
                        {{ .Status.String }}
                        <div class="rounded-full w-3 h-3 bg-{{ .Status.Color }}"></div>
                    </td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
    {{ else }}
    <div class="flex items-center justify-around">
        <div class="text-lg">There is no available training tasks! You can create new one using button.</div>
        <a class="bg-sky-900 hover:bg-sky-800 text-gray-50 rounded-lg text-xl font-bold py-2 px-4"
            href="/training-tasks/new">Create Training Task</a>
    </div>
    {{ end }}
</div>
{{ template "footer" . }}
{{ end }}